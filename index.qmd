---
title: "Introduction"
format: html
---

::: panel-tabset

# Généralités

- Les variables constantes & les variables vides ont été exclues de l'analyse.
-  Dans les tableaux, pour les variables en `Oui/Non`, seules les valeurs pour le `Oui` sont indiquées.


# Import

```{r}
#| label: import

library("tidyverse")
library("readODS")
library("janitor")
library("labelled")
library("baseph")
#
nax <- c("", " ", "NA","D")

patients <- read_ods("./datas/patients.ods", na = nax) |>
  clean_names() |>
  mutate(across(where(is.character), as.factor))
bn <- read_ods("./datas/patients.ods", sheet = "bnom", na = nax)
var_label(patients) <- bn$titres
patients <- patients |>
  remove_constant(na.rm = TRUE) |> 
  mutate(d_inter =  as.numeric(patients$heure_extubation - patients$heure_anesthesie)/60) |> 
  dplyr::select(-starts_with("heure")) 
var_label(patients$d_inter) <- "Durée intervention (min)"

#
bloc <- read_ods("./datas/bloc.ods", na = nax) |>
  clean_names() |>
  mutate(across(where(is.character), as.factor))
bn <- read_ods("./datas/bloc.ods", sheet = "bnom", na =  nax)
var_label(bloc) <- bn$titres
bloc <- remove_constant(bloc, na.rm = TRUE)
#
tt <- read_ods("./datas/traitement.ods", na = nax) |>
  clean_names() |>
  mutate(across(where(is.character), as.factor))
bn <- read_ods("./datas/traitement.ods", sheet = "bnom", na = nax)
var_label(tt) <- bn$titres
tt <- remove_constant(tt, na.rm = TRUE)


rm(bn)
save(patients, bloc, tt, file = "datas/medgachis.RData")
load("datas/medgachis.RData")
```



